# はじめに

## システムの概要
このシステムは主に画像のアップロードと閲覧、ユーザーのログインができます。またローカルの環境で動かすことが前提になっています。  
<br>

## データベース作成のお願い
このシステムはデータベースと情報をやり取りしていますので、お手数ですが「データベース仕様」の項目を参考の上、phpMyAdminでデータベースの設定をお願いします。数分で終わるかと思います。  
<br>

## 何故制作したのか
ネット上で作品を披露するためにはどのような環境が必要か考えるため、さらにWEBシステム的にどのような処理や管理が必要か知るために制作しました。  
<br>

# 機能紹介

## ログイン機能、新規ユーザー制作
ログインと新規ユーザー制作ができます。
localhost/cgm/login/login.htmlにアクセスし、ユーザーコードとパスワードを入力しログインするか、下部の新規登録をクリックしユーザーを新しく作るかどちらかができます。  
<br>

## ログアウト
ログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)のログアウトボタンをクリックするとログアウトできます。  
<br>

## ユーザー詳細、ユーザー修正、ユーザー削除
ログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)のそれぞれのボタンをクリックするとボタンに応じた処理ができます。
ユーザー詳細はユーザーの詳細を確認できます。
ユーザー修正はユーザー名とパスワードの変更ができます。
ユーザー削除はユーザーとそのユーザーが投稿した作品を削除できます。  
<br>

## 画像の投稿(アップロード)
ログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)の投稿ボタンをクリックすると行えます。アップロードしたい画像を選択し、名前を付けられます。サイズ上限は5000000バイト(5MB)です。画像はlocalhost/cgm/contents/imgのフォルダ内に保存されます。  
<br>

## 自分が投稿した画像の閲覧
ログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)の自ユーザー投稿一覧ボタンをクリックすると閲覧できます。  
<br>

## 画像の削除
ログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)の自ユーザー投稿一覧ボタンから詳細確認の欄の詳細をクリックし、削除ボタンを押し、OKをクリックするとできます。  
<br>

## 他者が投稿した画像を閲覧
投稿した画像を閲覧する方法は2つあります。1つ目はログインした状態で管理トップメニュー(localhost/cgm/user/user_top.php)にアクセスし、全ユーザー投稿一覧ボタンをクリックする方法です。2つ目はログインせず直接localhost/cgm/view/view_cont_list.phpにアクセスする方法です。ログアウトが完了していれば、ゲストさん名義で閲覧することができます。  
<br>

## ページング機能
投稿された画像が一覧表示される2ページ(localhost/cgm/contents/cont_post_list.php と localhost/cgm/view/view_cont_list.php)で実装しています。1ページ当たり5つの画像まで表示できます。
アクセスの方法は上記の「自分が投稿した画像の閲覧」と「他者が投稿した画像を閲覧」の項目を参考にしてください。  
<br>

# 技術的アピール

## CRUD操作
INSERT文、SELECT文、UPDATE文、DELETE文を使ってデータベースと情報をやり取りしています。  
<br>

## Cookie,Sessionの利用
ログインしているユーザー情報の記憶に使っています。ログインするとページ上部にユーザー名が表示されます。ログアウトやユーザーを削除すると破棄されます。  
<br>

## password_hashの利用
パスワードの暗号化にpassword_hashを利用しています。  
<br>

# 今後の課題

## 作品、ユーザー検索機能
裏でデータをデータベースから探してアクセスしていた仕組みを利用して、簡易的な検索機能を作る。  
<br>

## 非ログイン状態での機能充実
アカウントがない人にも作品を知ってもらう為、ゲストのトップページや検索機能を実装させ、機能を充実させる。  
<br>

## コードの最適化
functionを用いてコードを最適化をする。requireを用いたファイルの読み込みといった部分で最適化をする。  
<br>

# データベース仕様

一つのデータベース(cgm)の中に二つのテーブル(mst_user, mst_contents)がある構成です。  
念のため同じreadmeファイル内にphpMyAdminのスクリーンショットを入れておきましたので、不明な点がございましたらそちらを確認お願いします。

### データベース名：cgm  
###  テーブル名：mst_user
 
| 名前     | データ型 | 長さ/値 | デフォルト値 | 照合順序        | A_I          |
| -------- | -------- | ------- | ------------ | --------------- | ------------ |
| code     | int      | 11      | なし         | (空欄)          | チェックあり |
| name     | varchar  | 15      | なし         | utf8_unicode_ci | チェック無し |
| password | varchar  | 255     | なし         | utf8_unicode_ci | チェック無し |
<br>

### テーブル名：mst_contents

| 名前      | データ型 | 長さ/値 | デフォルト値 | 照合順序        | A_I          |
| --------- | -------- | ------- | ------------ | --------------- | ------------ |
| code      | int      | 11      | なし         | (空欄)          | チェックあり |
| name      | varchar  | 30      | なし         | utf8_unicode_ci | チェック無し |
| user_code | int      | 11      | なし         | (空欄)          | チェック無し |
<br>

# 開発環境
OS: Windows 10 Home  
XAMPP: XAMPP for Windows 7.4.11  
Apache: 2.4.46  
MariaDB: 10.4.14  
PHP: 7.4.11  